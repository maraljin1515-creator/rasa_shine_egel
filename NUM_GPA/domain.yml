version: "3.1"

intents:
  - greet
  - affirm_mn
  - deny_mn
  - inform_number
  - goodbye

entities:
  - number

slots:
  number_of_courses:
    type: float
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: gpa_form
            requested_slot: number_of_courses

  current_course_index:
    type: float
    influence_conversation: false
    initial_value: 1
    mappings:
      - type: custom

  current_credit:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: gpa_form
            requested_slot: current_credit

  current_score:
    type: float
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
        conditions:
          - active_loop: gpa_form
            requested_slot: current_score

  courses:
    type: any
    influence_conversation: false
    initial_value: []
    mappings:
      - type: custom

responses:
  utter_greet:
    - text: "–°–∞–π–Ω –±–∞–π–Ω–∞ —É—É? –ë–∏ –±–æ–ª —Ö–∏—á—ç—ç–ª–∏–π–Ω –≥–æ–ª—á –±–æ–¥–æ–∂ ”©–≥”©—Ö –∑–æ—Ä–∏–ª–≥–æ—Ç–æ–π —á–∞—Ç–±–æ—Ç —é–º. –¢–∞ –≥–æ–ª—á–æ–æ –±–æ–¥—É—É–ª–∞—Ö—ã–≥ —Ö“Ø—Å—ç–∂ –±–∞–π–Ω–∞ —É—É? (—Ç–∏–π–º / “Ø–≥“Ø–π)"
  utter_deny:
    - text: "–ó–∞ –æ–π–ª–≥–æ–ª–æ–æ. –î–∞—Ä–∞–∞ –≥–æ–ª—á –±–æ–¥–º–æ–æ—Ä –±–æ–ª '—Ç–∏–π–º' –≥—ç–∂ –±–∏—á—ç—ç—Ä—ç–π."
  utter_ask_number_of_courses:
    - text: "–¢–∞ —Ö—ç–¥—ç–Ω —Ö–∏—á—ç—ç–ª “Ø–∑—Å—ç–Ω –±—ç?"
  utter_goodbye:
    - text: "–ë–∞—è—Ä—Ç–∞–π! –î–∞—Ö–∏–∞–¥ –≥–æ–ª—á –±–æ–¥—É—É–ª–∞—Ö –±–æ–ª '—Ç–∏–π–º' –≥—ç–∂ –±–∏—á—ç—ç—Ä—ç–π üòä"

actions:
  - validate_gpa_form
  - action_ask_current_credit
  - action_ask_current_score
  - action_calculate_gpa

forms:
  gpa_form:
    required_slots:
      - number_of_courses
      - current_credit
      - current_score
