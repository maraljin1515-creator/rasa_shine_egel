version: "3.1"

intents:
  - greet
  - affirm
  - deny

slots:
  number_of_courses:
    type: float
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: gpa_form
            requested_slot: number_of_courses

  current_course_index:
    type: float
    influence_conversation: false
    mappings:
      - type: custom

  current_credit:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: gpa_form
            requested_slot: current_credit

  current_score:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: gpa_form
            requested_slot: current_score

  courses:
    type: any
    influence_conversation: false
    mappings:
      - type: custom

responses:
  utter_intro:
    - text: "Сайн байна уу? Би бол хичээлийн голч бодож өгөх зорилготой чатбот юм. Та голчоо бодуулахыг хүсэж байна уу? (тийм / үгүй)"

  utter_ask_number_of_courses:
    - text: "Та хэдэн хичээл үзсэн бэ?"

  utter_ask_current_credit:
    - text: "{current_course_index}-р хичээлийн багц хэд вэ?"

  utter_ask_current_score:
    - text: "{current_course_index}-р хичээл дээр авсан дүн хэд вэ? (0-100)"

forms:
  gpa_form:
    required_slots:
      - number_of_courses
      - current_credit
      - current_score

actions:
  - validate_gpa_form
  - action_gpa_result
